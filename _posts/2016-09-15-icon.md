---
title : Icon Generator
layout : post
category : Generic
tags :
    - python
---

<pre>
    <code class="python">
import scipy.misc as sm
import Tkinter
import tkFileDialog
import numpy as np

class IconGen:
    def __init__(self, size = 19):
        Tkinter.Tk().withdraw()
        self.name = tkFileDialog.askopenfilename()
        self.size = size
        self.fix()
        self.save()

    def fix(self ):
        im = sm.imread(self.name , mode = "RGBA")
        dim = im.shape[ : 2]
        im = im[(dim[0] - min(dim))/2 : (dim[0] + min(dim))/2, (dim[1] - min(dim))/2 : (dim[1] + min(dim))/2 ,:]

        self.im = sm.imresize(im, size = (self.size,self.size))

        xi = range(self.size)
        xi, yi = np.meshgrid(xi, xi)
        r = np.sqrt((xi - self.size/2)**2 + (yi - self.size/2)**2)
        outside = r > self.size/2
        x, y =  np.where(outside)
        self.im[x ,y , :] =  0

    def save(self):
        sm.imsave(self.name, self.im)

IconGen()
  </code>
</pre>
